<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="twitter:card" content="summary_large_image" /><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Machine Learning Model Monitoring | notebooks</title>
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Machine Learning Model Monitoring" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Using github actions to create a CICD data pipeline in snowflake data." />
<meta property="og:description" content="Using github actions to create a CICD data pipeline in snowflake data." />
<link rel="canonical" href="https://marcelcastrobr.github.io/notebooks/ml,/data/drift,/model/mlops/2021/12/13/ModelMonitoring.html" />
<meta property="og:url" content="https://marcelcastrobr.github.io/notebooks/ml,/data/drift,/model/mlops/2021/12/13/ModelMonitoring.html" />
<meta property="og:site_name" content="notebooks" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2021-12-13T03:19:07-06:00" />
<script type="application/ld+json">
{"dateModified":"2021-12-13T03:19:07-06:00","datePublished":"2021-12-13T03:19:07-06:00","url":"https://marcelcastrobr.github.io/notebooks/ml,/data/drift,/model/mlops/2021/12/13/ModelMonitoring.html","@type":"BlogPosting","headline":"Machine Learning Model Monitoring","mainEntityOfPage":{"@type":"WebPage","@id":"https://marcelcastrobr.github.io/notebooks/ml,/data/drift,/model/mlops/2021/12/13/ModelMonitoring.html"},"description":"Using github actions to create a CICD data pipeline in snowflake data.","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/notebooks/assets/css/style.css"><link type="application/atom+xml" rel="alternate" href="https://marcelcastrobr.github.io/notebooks/feed.xml" title="notebooks" /><link rel="shortcut icon" type="image/x-icon" href="/notebooks/images/favicon.ico"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Primer/15.2.0/primer.css" integrity="sha512-xTz2ys4coGAOz8vuV1NcQBkgVmKhsSEtjbqyMJbBHRplFuvKIUo6xhLHpAyPt9mfR6twHJgn9OgVLuqOvjeBhg==" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.css" integrity="sha512-h7nl+xz8wgDlNM4NqKEM4F1NkIRS17M9+uJwIGwuo8vGqIl4BhuCKdxjWEINm+xyrUjNCnK5dCrhM0sj+wTIXw==" crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/katex.min.js" integrity="sha512-/CMIhXiDA3m2c9kzRyd97MTb3MC6OVnx4TElQ7fkkoRghwDf6gi41gaT1PwF270W6+J60uTmwgeRpNpJdRV6sg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.12.0/contrib/auto-render.min.js" integrity="sha512-Do7uJAaHZm5OLrIv/yN4w0iG1dbu01kzdMNnFfu/mAqgUk6Nniv2JYHcwH+cNwjqgLcqcuBBk+JRvprLVI8azg==" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha512-0doc9hKxR3PYwso42RD1p5ySZpzzuDiOwMrdCEh2WdJZCjcmFKc/wEnL+z8fBQrnHoiNWbo+3fiGkOYXBdQp4A==" crossorigin="anonymous"></script>
    <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement( document.body, {
        delimiters: [
            {left: "$$", right: "$$", display: true},
            {left: "[%", right: "%]", display: true},
            {left: "$", right: "$", display: false}
        ]}
        );
    });
    </script>


<script>
function wrap_img(fn) {
    if (document.attachEvent ? document.readyState === "complete" : document.readyState !== "loading") {
        var elements = document.querySelectorAll(".post img");
        Array.prototype.forEach.call(elements, function(el, i) {
            if (el.getAttribute("title") && (el.className != "emoji")) {
                const caption = document.createElement('figcaption');
                var node = document.createTextNode(el.getAttribute("title"));
                caption.appendChild(node);
                const wrapper = document.createElement('figure');
                wrapper.className = 'image';
                el.parentNode.insertBefore(wrapper, el);
                el.parentNode.removeChild(el);
                wrapper.appendChild(el);
                wrapper.appendChild(caption);
            }
        });
    } else { document.addEventListener('DOMContentLoaded', fn); }
}
window.onload = wrap_img;
</script>

<script>
    document.addEventListener("DOMContentLoaded", function(){
    // add link icon to anchor tags
    var elem = document.querySelectorAll(".anchor-link")
    elem.forEach(e => (e.innerHTML = '<i class="fas fa-link fa-xs"></i>'));
    });
</script>
</head>
<body><header class="site-header">

  <div class="wrapper"><a class="site-title" rel="author" href="/notebooks/">notebooks</a><nav class="site-nav">
        <input type="checkbox" id="nav-trigger" class="nav-trigger" />
        <label for="nav-trigger">
          <span class="menu-icon">
            <svg viewBox="0 0 18 15" width="18px" height="15px">
              <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
            </svg>
          </span>
        </label>

        <div class="trigger"><a class="page-link" href="/notebooks/about/">About Me</a><a class="page-link" href="/notebooks/search/">Search</a><a class="page-link" href="/notebooks/categories/">Tags</a></div>
      </nav></div>
</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Machine Learning Model Monitoring</h1><p class="page-description">Using github actions to create a CICD data pipeline in snowflake data.</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2021-12-13T03:19:07-06:00" itemprop="datePublished">
        Dec 13, 2021
      </time>
       â€¢ <span class="read-time" title="Estimated read time">
    
    
      1 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/notebooks/categories/#ML,">ML,</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#data">data</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#drift,">drift,</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#model">model</a>
        &nbsp;
      
        <a class="category-tags-link" href="/notebooks/categories/#MLOps">MLOps</a>
        
      
      </p>
    

    </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul class="section-nav">
<li class="toc-entry toc-h1"><a href="#machine-learning-model-monitoring">Machine Learning Model Monitoring</a></li>
<li class="toc-entry toc-h1"><a href="#why-monitoring-matters">Why monitoring matters:</a></li>
<li class="toc-entry toc-h1"><a href="#concepts">Concepts</a>
<ul>
<li class="toc-entry toc-h3"><a href="#data-skew">Data Skew:</a></li>
<li class="toc-entry toc-h3"><a href="#model-staleness">Model Staleness</a></li>
<li class="toc-entry toc-h3"><a href="#negative-feedback-loops">Negative feedback loops</a></li>
</ul>
</li>
<li class="toc-entry toc-h1"><a href="#what-and-how-to-monitor-in-ml-models">What and How to Monitor in ML models:</a></li>
<li class="toc-entry toc-h1"><a href="#references">References:</a></li>
</ul><h1 id="machine-learning-model-monitoring">
<a class="anchor" href="#machine-learning-model-monitoring" aria-hidden="true"><span class="octicon octicon-link"></span></a>Machine Learning Model Monitoring</h1>

<p><img src="https://github.com/visenger/awesome-mlops/blob/master/awesome-mlops-intro.png" alt="MLOps. You Desing It. Your Train It. You Run It."></p>

<h1 id="why-monitoring-matters">
<a class="anchor" href="#why-monitoring-matters" aria-hidden="true"><span class="octicon octicon-link"></span></a>Why monitoring matters:</h1>

<p>Machine learning model monitoring is important as it allows to check for changes on the model performance. It is a cyclical and interactive process and need also to consider the monitoring of the infrastructure such as database and application.</p>

<p>Model monitoring should account for:</p>

<ul>
  <li>
    <p>Data skews</p>
  </li>
  <li>
    <p>Model staleness</p>
  </li>
  <li>
    <p>Negative feedback loops</p>
  </li>
</ul>

<p>Functional and non-functional monitoring points are:</p>

<ul>
  <li>Functional:
    <ul>
      <li>Predictive peformance</li>
      <li>Changes in serving data</li>
      <li>Metrics used during training</li>
      <li>Characteristics of features</li>
    </ul>
  </li>
  <li>Non-functional
    <ul>
      <li>System performance</li>
      <li>System status</li>
      <li>System reliability</li>
    </ul>
  </li>
</ul>

<h1 id="concepts">
<a class="anchor" href="#concepts" aria-hidden="true"><span class="octicon octicon-link"></span></a>Concepts</h1>

<h3 id="data-skew">
<a class="anchor" href="#data-skew" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data Skew:</h3>

<p>Data skews occurs when the model training data is not representative of the live data. There are several reasons for data skew, such as:</p>

<ul>
  <li>Training data was designed wrong such as the distribution of the features in the training is different from the distribution of the features in real life data.</li>
  <li>Feature not available in production</li>
</ul>

<h3 id="model-staleness">
<a class="anchor" href="#model-staleness" aria-hidden="true"><span class="octicon octicon-link"></span></a>Model Staleness</h3>

<p>Model staleness can occur based on:</p>

<ul>
  <li>Shifts in the environment as historic data used during model training may change as time progress (e.g. financial models using time of recession might not be effective for predicting default when economy is healthy).</li>
  <li>Consumer behaviour change such as trends in politics, fashion, etc.</li>
  <li>Adversarial scenarios where bad actors (e.g. criminals) seek to weaken the model.</li>
</ul>

<h3 id="negative-feedback-loops">
<a class="anchor" href="#negative-feedback-loops" aria-hidden="true"><span class="octicon octicon-link"></span></a>Negative feedback loops</h3>

<p>Negative feedback loop arises when you train data collected in production that can lead to bias.</p>

<h1 id="what-and-how-to-monitor-in-ml-models">
<a class="anchor" href="#what-and-how-to-monitor-in-ml-models" aria-hidden="true"><span class="octicon octicon-link"></span></a>What and How to Monitor in ML models:</h1>

<p>WHAT should we monitor in an ML model in production:</p>

<ul>
  <li>Model input distribution
    <ul>
      <li>Errors: input values fall within an allowed set/range?</li>
      <li>Changes: does the distribution align with what was seen during training?</li>
    </ul>
  </li>
  <li>Model prediction distribution
    <ul>
      <li>Statistical significance: e.g. if variables are normally distributes, we might expect the mean values to be within the standard euro of the mean interval.</li>
    </ul>
  </li>
  <li>Model versions</li>
  <li>Input/prediction correlation</li>
</ul>

<p>HOW should we monitor it:</p>

<ul>
  <li>Tracing your ML model through logging.
    <ul>
      <li>Observability of ML model while logging distributed tracings might be challenging. However, tools like Dapper, Zipkin and Jaeger could help to do the job.</li>
    </ul>
  </li>
</ul>

<h1 id="references">
<a class="anchor" href="#references" aria-hidden="true"><span class="octicon octicon-link"></span></a>References:</h1>

<p><a href="https://www.coursera.org/learn/deploying-machine-learning-models-in-production/lecture/Bew5j/why-monitoring-matters">[1] Deploying Machine Learning in Production, Deeplearning</a></p>

<p><a href="">[2] MLOps: What It Is, Why It Matters, and How to Implement It</a></p>

<p><a href="https://github.com/visenger/awesome-mlops">[3] Awesome MLOps</a></p>


  </div><a class="u-url" href="/notebooks/ml,/data/drift,/model/mlops/2021/12/13/ModelMonitoring.html" hidden></a>
</article>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/notebooks/"></data>

  <div class="wrapper">

    <div class="footer-col-wrapper">
      <div class="footer-col">
        <p class="feed-subscribe">
          <a href="/notebooks/feed.xml">
            <svg class="svg-icon orange">
              <use xlink:href="/notebooks/assets/minima-social-icons.svg#rss"></use>
            </svg><span>Subscribe</span>
          </a>
        </p>
      </div>
      <div class="footer-col">
        <p>Using Jekyll and fastpages to render my Jupyter Notebooks.</p>
      </div>
    </div>

    <div class="social-links"><ul class="social-media-list"><li><a rel="me" href="https://github.com/marcelcastrobr" title="marcelcastrobr"><svg class="svg-icon grey"><use xlink:href="/notebooks/assets/minima-social-icons.svg#github"></use></svg></a></li></ul>
</div>

  </div>

</footer>
</body>

</html>
